<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOZAMA - Vendedor</title>
    <link rel="stylesheet" type="text/css" href="Static/style_Central.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="shortcut icon" href="Static/src/Logo.ico" />
</head>

<body>

    <!-- Barra superior con logo y botones -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <!-- Logo de la tienda -->
            <a class="navbar-brand" href="#">
                <img src="Static/src/Logo_Sin_Fondo.png" alt="Logo" style="width: 100px; height: 50px;" class="image">
            </a>

            <!-- Botones en la barra superior -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto"> <!-- Mover los elementos a la derecha con ms-auto -->
                    <li class="nav-item">
                        <a class="nav-link" href="#">Mis Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Nuevos Productos</a>
                    </li>
                </ul>
            </div>

            <!-- Ícono de usuario con menú colapsable -->
            <div class="nav-item-dropdown dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-user"></i> <strong>Usuario</strong> <img src="Productos/User.png" alt="Logo"
                        style="width: 20px; height: 20px;">
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Configuración</a>
                    <a class="dropdown-item"
                        href="http://localhost/Proyecto_Bases_de__Datos/Templates/Pagina_Nueva/index.html">Cerrar
                        Sesión</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Modal para agregar nuevo producto -->
    <div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <!-- Formulario para agregar nuevo producto -->
                    <form>
                        <div class="mb-3">
                            <label for="productName" class="form-label">Nombre del Producto</label>
                            <input type="text" class="form-control" id="productName">
                        </div>
                        <div class="mb-3">
                            <label for="productPrice" class="form-label">Precio del Producto</label>
                            <input type="text" class="form-control" id="productPrice">
                        </div>
                        <!-- ... Agrega más campos según sea necesario ... -->
                        <button type="submit" class="btn btn-primary">Agregar Producto</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Formulario de preguntas -->
    <h2 style="margin-left: 20%;margin-top: 2%;">Al ser su primera vez debera rellenar este cuestionario para poder darle servicio</h2>
    <div class="container mt-5">
        <h3>Complete su Información Personal</h3>
        <form>
            <div class="mb-3">
                <label for="question1" class="form-label">Nombre / Razón Social</label>
                <input type="text" class="form-control" id="question1">
            </div>
            <div class="mb-3">
                <label for="question2" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="question2">
            </div>
            <div class="mb-3">
                <label for="question3" class="form-label">RFC</label>
                <input type="text" class="form-control" id="question3">
            </div>
            <div class="mb-3">
                <label id="question4Label" for="question4" class="form-label">Correo</label>
                <input type="text" class="form-control" id="question4">
            </div>
            <div class="mb-3">
                <label for="question5" class="form-label">Página Web</label>
                <input type="text" class="form-control" id="question5">
            </div>
            <button type="submit" class="btn btn-primary">Enviar Información</button>
        </form>
    </div>
<script>
    var urlParams = new URLSearchParams(window.location.search);
    var correo = urlParams.get('correo');
    document.addEventListener('DOMContentLoaded', function() {


    verificarEspaciosVacios(correo);
});


function verificarEspaciosVacios(correo) {
    fetch('Verificador_Nuevo.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'correo=' + correo
    })
    .then(response => response.json())
    .then(data => {
        // Verifica la respuesta del servidor
        if (data['mensaje'] === "True") {
    // Ocultar el formulario y redirigir a 'Mis Productos'
            document.getElementById('addProductModal').style.display = 'none';
            window.location.href = 'MisProductos.html?correo=' + correo;
      
        } else {
            var labelElement = document.getElementById('question4Label');
        if (esNumero(correo)) {
        if (labelElement) {
            labelElement.innerText = 'Correo';
        }
        } else if (esCorreoElectronico(correo)) {
        if (labelElement) {
            labelElement.innerText = 'Telefono';
        }
        } 
        }
    })
    .catch(error => console.error('Error al realizar la solicitud:', error));
}
function esNumero(valor) {
    return typeof valor === 'number' && isFinite(valor);
}

// Función para verificar si es un correo electrónico
function esCorreoElectronico(valor) {
    // Expresión regular para validar el formato de un correo electrónico básico
    var regexCorreo = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regexCorreo.test(valor);
}
</script>
    <script src="http://localhost/Proyecto_Bases_de__Datos/Templates/Pagina_Nueva/app.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
